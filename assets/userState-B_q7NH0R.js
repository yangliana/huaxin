import{aw as p,c,w as t,n as f,C as m,a as _,b as e,V as v,x as g,p as x,E as s,g as o,h as l,a1 as V,I as k,ax as w,l as N}from"./index-Dc9JgZ5a.js";const b=p("jwt",{state:()=>({token:"",userName:"",fullName:"",userRole:"",userId:"",avatar:"",isAdmin:!1,enterprise:"",port:""}),getters:{isUserLogin(){return!!this.token}},actions:{setToken(n){this.token=n},isLogin(){return!!this.token}},persist:{enabled:!0,strategies:[{key:"jwt_store",storage:localStorage,paths:["token","userName","fullName","userId","avatar"]}]}}),h={__name:"userState",setup(n){const a=b(),u=m(),i=()=>{a.$reset(),u.replace("/passport/login")};return(C,r)=>(_(),c(f,{rounded:""},{activator:t(({props:d})=>[e(o,k({icon:""},d,{elevation:"1",class:"mx-4 pa-0"}),{default:t(()=>[e(w,{color:"grey"},{default:t(()=>[e(N,{src:s(a).avatar,cover:""},null,8,["src"])]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(g,{class:"mx-auto text-center"},{default:t(()=>[e(x,{"prepend-avatar":s(a).avatar,title:s(a).userRole,subtitle:s(a).userName,class:"mb-5"},null,8,["prepend-avatar","title","subtitle"]),e(o,{rounded:"",variant:"text","prepend-icon":"mdi-newspaper-variant-outline",href:"/my/profile"},{default:t(()=>r[0]||(r[0]=[l("个人资料")])),_:1,__:[0]}),e(V,{class:"my-3"}),e(o,{rounded:"",variant:"text","prepend-icon":"mdi-logout-variant",onClick:i},{default:t(()=>r[1]||(r[1]=[l("退出登录")])),_:1,__:[1]})]),_:1})]),_:1})]),_:1}))}};export{h as default};
