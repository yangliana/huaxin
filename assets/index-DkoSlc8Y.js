import{r as x}from"./validate-BxfLMkoi.js";import{d as F,s as v,c as _,a as f,c9 as M,r as B,o as J,V as T,w as t,K as C,b as l,q,h,t as A,y as P,z as E,e as g,l as K,I as k,J as W,g as G,E as s,F as R,i as U,U as N,a6 as j,af as z,bl as Q,aH as X,aW as Y,b8 as Z,b6 as $,b1 as ee,T as le,v as ae,x as te,H as re,A as oe,ca as se,u as ne}from"./index-W0lyqUYg.js";import{V as ue}from"./VFileInput-BIGodEJL.js";import{V as de}from"./VHover-CNClkaj1.js";import{B as ie}from"./news-list-OZbuuJ-o.js";import{_ as me}from"./contract-us.vue_vue_type_script_setup_true_lang-DYaoGvNi.js";import{V as ce}from"./VForm-BqgtsuLj.js";import{V as I}from"./VTextField-CJVc9cmF.js";import{V as w,b as pe,m as fe}from"./VInput-CMMR21Py.js";import{V as S,m as Ve,a as ge,b as ye}from"./VSelectionControl-BQFj9jpX.js";import{V as be}from"./VTextarea-DrB6iB_W.js";import"./VField-Cu3yU4X9.js";const _e=F({__name:"file-upload",emits:["success"],setup(n,{expose:m,emit:e}){const d=e,V=v(null),u=v(null),o=v(0),a=i=>{o.value=i,u.value.$el.querySelector('input[type="file"]').click()},r=i=>new Promise((c,y)=>{const b=new FormData;b.append("image",i),M(b).then(p=>p.data.data).then(p=>{d("success",p,o.value)}).catch(p=>{console.error("Error:",p)})});return m({trigger:a}),(i,c)=>(f(),_(ue,{ref_key:"refFileInput",ref:u,modelValue:V.value,"onUpdate:modelValue":[c[0]||(c[0]=y=>V.value=y),r],accept:"image/*",class:"d-none"},null,8,["modelValue"]))}}),ve={key:0,class:"w-100 h-100 d-flex align-center justify-center",style:{"background-color":"rgba(40, 40, 40, 0.6)"}},xe=F({__name:"images",props:{modelValue:{type:Array,required:!0},label:{type:String,required:!1}},emits:["update:modelValue"],setup(n,{emit:m}){const e=n,d=m,V=v(null),u=B({maxCounts:3,imgUrls:[]}),o=(a,r)=>{if(r<u.imgUrls.length){u.imgUrls[r]=a;var i=[];u.imgUrls.forEach(c=>{c&&i.push(c)}),d("update:modelValue",i)}};return J(()=>{e.modelValue.forEach(a=>{u.imgUrls.push(a)});for(let a=u.imgUrls.length;a<u.maxCounts;++a)u.imgUrls.push("")}),(a,r)=>(f(),_(T,{variant:"text"},{default:t(()=>[e.label?(f(),_(q,{key:0,class:"text-subtitle-1 text-grey-darken-1"},{default:t(()=>[h(A(e.label),1)]),_:1})):C("",!0),l(_e,{ref_key:"refUpload",ref:V,onSuccess:o},null,512),l(U,{dense:""},{default:t(()=>[(f(!0),P(R,null,E(s(u).imgUrls,(i,c)=>(f(),_(g,{cols:"4"},{default:t(()=>[l(de,null,{default:t(({isHovering:y,props:b})=>[l(K,k({cover:"",src:i||"/images/404.png",ref_for:!0},b),{default:t(()=>[l(W,null,{default:t(()=>[y?(f(),P("div",ve,[l(G,{size:"small",color:"green",onClick:p=>s(V).trigger(c)},{default:t(()=>r[0]||(r[0]=[h("上传图片")])),_:2,__:[0]},1032,["onClick"])])):C("",!0)]),_:2},1024)]),_:2},1040,["src"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}))}}),he=j({...Ve({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ke=N()({name:"VRadio",props:he(),setup(n,m){let{slots:e}=m;return z(()=>{const d=S.filterProps(n);return l(S,k(d,{class:["v-radio",n.class],style:n.style,type:"radio"}),e)}),{}}}),Ie=j({height:{type:[Number,String],default:"auto"},...fe(),...ee(ye(),["multiple"]),trueIcon:{type:$,default:"$radioOn"},falseIcon:{type:$,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Ce=N()({name:"VRadioGroup",inheritAttrs:!1,props:Ie(),emits:{"update:modelValue":n=>!0},setup(n,m){let{attrs:e,slots:d}=m;const V=Q(),u=X(()=>n.id||`radio-group-${V}`),o=Y(n,"modelValue");return z(()=>{const[a,r]=Z(e),i=w.filterProps(n),c=S.filterProps(n),y=d.label?d.label({label:n.label,props:{for:u.value}}):n.label;return l(w,k({class:["v-radio-group",n.class],style:n.style},a,i,{modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,id:u.value}),{...d,default:b=>{let{id:p,messagesId:D,isDisabled:O,isReadonly:H}=b;return l(R,null,[y&&l(pe,{id:p.value},{default:()=>[y]}),l(ge,k(c,{id:p.value,"aria-describedby":D.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:O.value,readonly:H.value,"aria-labelledby":y?p.value:void 0,multiple:!1},r,{modelValue:o.value,"onUpdate:modelValue":L=>o.value=L}),d)])}})}),{}}}),Ge=F({__name:"index",setup(n){const m=v(null),e=B({loading:!1,title:"售后服务",hasPosted:!1,types:[{type:"退换货",color:"red"},{type:"维修",color:"green"},{type:"咨询",color:"blue"}],record:{name:"",phone:"",email:"",type:"咨询",images:[],message:""}});le().setItems([{title:e.title,disabled:!0}]);const d=o=>!e.record.phone&&!e.record.email?"电话或者邮箱至少填写一项":o?x.phone(o):!0,V=o=>!e.record.phone&&!e.record.email?"电话或者邮箱至少填写一项":o?x.email(o):!0,u=()=>{m.value.validate().then(({valid:o,errors:a})=>{if(!o)return Promise.reject(a)}).then(()=>se(e.record)).then(o=>{console.log(o),o.data&&o.data.code===200&&(e.hasPosted=!0,ne().show("提交成功"))}).catch(o=>{}).finally(()=>{e.loading=!1})};return(o,a)=>(f(),_(oe,{"max-width":"1200",class:"pa-0"},{default:t(()=>[l(U,{dense:""},{default:t(()=>[o.$vuetify.display.xs?C("",!0):(f(),_(g,{key:0,cols:"0",sm:"3"},{default:t(()=>[l(ie,{size:3,class:"mt-3"}),l(me)]),_:1})),l(g,{cols:"12",sm:"9"},{default:t(()=>[l(T,{variant:"text",loading:s(e).loading},{default:t(()=>[l(q,null,{default:t(()=>[l(ae,{variant:"text",size:"x-large",color:"blue","prepend-icon":"mdi-face-agent"},{default:t(()=>[h(A(s(e).title),1)]),_:1})]),_:1}),l(te,null,{default:t(()=>[l(ce,{ref_key:"refForm",ref:m,disabled:s(e).hasPosted},{default:t(()=>[l(U,{dense:""},{default:t(()=>[l(g,{cols:"7"},{default:t(()=>[l(I,{modelValue:s(e).record.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s(e).record.name=r),"prepend-inner-icon":"mdi-account-outline",label:"您的姓名",rules:[s(x).required]},null,8,["modelValue","rules"])]),_:1}),l(g,{cols:"7"},{default:t(()=>[l(I,{modelValue:s(e).record.phone,"onUpdate:modelValue":a[1]||(a[1]=r=>s(e).record.phone=r),"prepend-inner-icon":"mdi-phone-outline",label:"联系电话",rules:[d]},null,8,["modelValue","rules"])]),_:1}),l(g,{cols:"7"},{default:t(()=>[l(I,{modelValue:s(e).record.email,"onUpdate:modelValue":a[2]||(a[2]=r=>s(e).record.email=r),"prepend-inner-icon":"mdi-email-outline",label:"电子邮箱",rules:[V]},null,8,["modelValue","rules"])]),_:1}),l(g,{cols:"12"},{default:t(()=>[l(Ce,{modelValue:s(e).record.type,"onUpdate:modelValue":a[3]||(a[3]=r=>s(e).record.type=r),label:"服务类型",inline:"","hide-details":""},{default:t(()=>[(f(!0),P(R,null,E(s(e).types,r=>(f(),_(ke,{label:r.type,value:r.type,color:r.color},null,8,["label","value","color"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(g,{cols:"12"},{default:t(()=>[l(xe,{modelValue:s(e).record.images,"onUpdate:modelValue":a[4]||(a[4]=r=>s(e).record.images=r),label:"上传图片"},null,8,["modelValue"])]),_:1}),l(g,{cols:"12"},{default:t(()=>[l(be,{modelValue:s(e).record.message,"onUpdate:modelValue":a[5]||(a[5]=r=>s(e).record.message=r),"prepend-inner-icon":"mdi-message-reply-text-outline",label:"留言内容",rules:[s(x).required],rows:"8",counter:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1}),l(re,{class:"justify-center"},{default:t(()=>[l(G,{variant:"elevated",color:"primary","prepend-icon":"mdi-check",disabled:s(e).hasPosted,onClick:u},{default:t(()=>a[6]||(a[6]=[h("提交")])),_:1,__:[6]},8,["disabled"])]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}))}});export{Ge as default};
