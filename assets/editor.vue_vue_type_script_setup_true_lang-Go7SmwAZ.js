import{I as c,Q as p}from"./quill.imageUploader-D88r1wV1.js";import{i as g}from"./admin-bFQgo93F.js";import{d as f,s as h,r as C,c as b,a as k,E as i,ay as w}from"./index-CBPGFmfO.js";const H=f({__name:"editor",props:["raw","minHeight"],setup(m,{expose:u}){const a=m,t=h(null),d=a.minHeight?a.minHeight+"px":"400px",n=C({rawContent:null,htmlContent:null,quill:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"+1"},{indent:"-1"}],[{header:[1,2,3,4,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],modules:{name:"imageUploader",module:c,options:{upload:o=>new Promise((e,r)=>{const s=new FormData;s.append("image",o),g(s).then(l=>{console.log(l.data.data),e(l.data.data)}).catch(l=>{r("Upload failed"),console.error("Error:",l)})})}}}});return u({setContent:o=>{var e=null;typeof o=="string"?e=JSON.parse(a.raw):e=o,t.value.setContents(e!=null&&e.ops?e.ops:[],"silent")},getContent:()=>({raw:t.value.getContents(),html:t.value.getHTML(),text:t.value.getText()})}),(o,e)=>(k(),b(i(p),{ref_key:"refQuill",ref:t,content:n.rawContent,"onUpdate:content":e[0]||(e[0]=r=>n.rawContent=r),theme:"snow",toolbar:n.quill.toolbar,modules:n.quill.modules,style:w(`min-height: ${i(d)}`)},null,8,["content","toolbar","modules","style"]))}});export{H as _};
