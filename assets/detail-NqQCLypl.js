import{U as H,W as R,X as P,Y as U,d as V,r as x,c as n,a as s,w as a,K as N,b as t,l as w,E as p,Z as z,y as g,z as k,V as f,D as E,F as _,o as C,q as S,g as $,h as u,x as h,i as I,e as v,$ as F,t as m,a0 as B,p as T,v as b,a1 as G,j as L,a2 as J,T as O,R as j,a3 as q,a4 as A,a5 as K,B as W,A as X}from"./index-Bf5RujO8.js";import{V as Y,_ as Z}from"./VSheet-ChlPvU44.js";import{a as Q}from"./index.es-DmK9MY3g.js";import{_ as ee}from"./list-item.vue_vue_type_script_setup_true_lang-TcjFQX4C.js";import"./VTooltip-CRczSnK-.js";const ae=H()({name:"VSlideGroupItem",props:R(),emits:{"group:selected":i=>!0},setup(i,c){let{slots:e}=c;const d=P(i,U);return()=>{var r;return(r=e.default)==null?void 0:r.call(e,{isSelected:d.isSelected.value,select:d.select,toggle:d.toggle,selectedClass:d.selectedClass.value})}}}),te=V({__name:"image-group",props:["images"],setup(i){const c=i,e=x({selected:0}),d=()=>{Q({options:{toolbar:!1,initialViewIndex:e.selected,title:!1},images:c.images})};return(r,l)=>(s(),n(Y,null,{default:a(()=>[i.images?(s(),n(w,{key:0,src:i.images[p(e).selected?p(e).selected:0],"max-height":"400",cover:"",onClick:d},null,8,["src"])):N("",!0),t(z,{modelValue:p(e).selected,"onUpdate:modelValue":l[0]||(l[0]=o=>p(e).selected=o),"selected-class":"opacity-100",class:"bg-grey-lighten-4 mt-2","center-active":"",mandatory:""},{default:a(()=>[(s(!0),g(_,null,k(i.images,(o,y)=>(s(),n(ae,{key:y},{default:a(({isSelected:ne,toggle:M,selectedClass:D})=>[t(f,{variant:"text",class:E(["mr-3","opacity-40",D]),color:"grey-lighten-1",height:"64",width:"64",onClick:M},{default:a(()=>[t(w,{src:o,width:"64",height:"64",cover:""},null,8,["src"])]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1}))}}),le=V({__name:"related",props:["id"],setup(i){const c=i,e=x({loading:!1,records:[]}),d=()=>{e.loading=!0,F(c.id).then(r=>{r.data&&r.data.code===200&&(e.records=r.data.data)}).catch(r=>{console.error(r)}).finally(()=>{e.loading=!1})};return C(()=>{d()}),(r,l)=>e.records.length>0?(s(),n(f,{key:0,variant:"text",loading:e.loading,class:"mt-3"},{default:a(()=>[t(S,{class:"border-b-thin py-0 px-0"},{default:a(()=>[t($,{variant:"elevated",color:"primary"},{default:a(()=>l[0]||(l[0]=[u("相关内容")])),_:1,__:[0]})]),_:1}),t(h,{class:"pl-1 pt-3"},{default:a(()=>[t(I,null,{default:a(()=>[(s(!0),g(_,null,k(e.records,(o,y)=>(s(),n(v,{cols:"4"},{default:a(()=>[t(ee,{product:o,index:y},null,8,["product","index"])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1},8,["loading"])):N("",!0)}}),re=["innerHTML"],se=V({__name:"detail",props:["id"],setup(i){const c=i,e=x({loading:!1,record:{}}),d=()=>{e.loading=!0,J(c.id).then(r=>{if(r.data&&r.data.code===200){let l=r.data.data;l.attrs=JSON.parse(l.attrs),l.images=JSON.parse(l.images),l.raw=JSON.parse(l.raw),l.attrs.unshift({name:"分类",value:l.category}),e.record=l}}).then(()=>{O().setItems([{title:"产品中心",to:"/product",disabled:!1},{title:e.record.category,to:`/product/category/${e.record.category}`,disabled:!1}])}).catch(r=>{console.error(r)}).finally(()=>{e.loading=!1})};return C(()=>{d()}),(r,l)=>(s(),n(f,{variant:"text",loading:e.loading,class:"mt-3"},{default:a(()=>[t(I,{dense:""},{default:a(()=>[t(v,{cols:"5"},{default:a(()=>[t(te,{images:e.record.images},null,8,["images"])]),_:1}),t(v,{cols:"7"},{default:a(()=>[t(f,{variant:"text"},{default:a(()=>[t(S,null,{default:a(()=>[u(m(e.record.title),1)]),_:1}),t(h,null,{default:a(()=>[t(B,{density:"compact"},{default:a(()=>[(s(!0),g(_,null,k(e.record.attrs,(o,y)=>(s(),n(T,null,{default:a(()=>[t(b,{label:"",class:"mr-2"},{default:a(()=>[u(m(o.name),1)]),_:2},1024),o.name==="分类"?(s(),n(b,{key:0,variant:"text","prepend-icon":"mdi-shape-outline",color:"primary",to:`/product/category/${o.value}`},{default:a(()=>[u(m(o.value),1)]),_:2},1032,["to"])):(s(),g(_,{key:1},[u(m(o.value.substring(0,r.$vuetify.display.sm?30:42)),1)],64))]),_:2},1024))),256))]),_:1}),t($,{color:"primary","prepend-icon":"mdi-cart",to:"/online-message"},{default:a(()=>l[0]||(l[0]=[u("在线订购")])),_:1,__:[0]})]),_:1})]),_:1})]),_:1})]),_:1}),t(h,{class:"px-0"},{default:a(()=>[t(G,{thickness:1,class:"border-opacity-25 mb-3",color:"grey"}),t(f,{variant:"text","max-width":r.$vuetify.display.width*.8},{default:a(()=>[L("div",{class:"article",innerHTML:e.record.html},null,8,re)]),_:1},8,["max-width"]),t(le,{id:c.id},null,8,["id"])]),_:1})]),_:1},8,["loading"]))}}),oe={__name:"images",props:["images"],setup(i){const c=i,e=x({images:c.images||[],current:0});return j(()=>c.images,(d,r)=>{d!==r&&(e.images=d)}),(d,r)=>(s(),n(A,{modelValue:e.current,"onUpdate:modelValue":r[0]||(r[0]=l=>e.current=l),"hide-delimiter-background":"",touch:"","show-arrows":!1,madatory:"",height:"300"},{default:a(()=>[(s(!0),g(_,null,k(e.images,(l,o)=>(s(),n(q,{key:o},{default:a(()=>[t(w,{src:l,cover:"","aspect-ratio":"16/9"},null,8,["src"])]),_:2},1024))),128))]),_:1},8,["modelValue"]))}},de=["innerHTML"],ie=V({__name:"detail",props:["id"],setup(i){const c=i,e=x({loading:!1,record:{}}),d=()=>{e.loading=!0,J(c.id).then(r=>{if(r.data&&r.data.code===200){let l=r.data.data;l.attrs=JSON.parse(l.attrs),l.images=JSON.parse(l.images),l.raw=JSON.parse(l.raw),l.attrs.unshift({name:"分类",value:l.category}),e.record=l}}).then(()=>{O().setItems([{title:"产品中心",to:"/product",disabled:!1},{title:e.record.category,to:`/product/category/${e.record.category}`,disabled:!1}])}).catch(r=>{console.error(r)}).finally(()=>{e.loading=!1})};return C(()=>{d()}),(r,l)=>(s(),n(f,{variant:"text",loading:e.loading},{default:a(()=>[t(oe,{images:e.record.images},null,8,["images"]),t(f,{variant:"text"},{default:a(()=>[t(S,null,{default:a(()=>[u(m(e.record.title),1)]),_:1}),t(h,null,{default:a(()=>[t(B,{density:"compact"},{default:a(()=>[(s(!0),g(_,null,k(e.record.attrs,(o,y)=>(s(),n(T,null,{default:a(()=>[t(b,{label:"",class:"mr-2"},{default:a(()=>[u(m(o.name),1)]),_:2},1024),o.name==="分类"?(s(),n(b,{key:0,variant:"text","prepend-icon":"mdi-shape-outline",color:"primary",to:`/product/category/${o.value}`},{default:a(()=>[u(m(o.value),1)]),_:2},1032,["to"])):(s(),g(_,{key:1},[u(m(o.value),1)],64))]),_:2},1024))),256))]),_:1}),t($,{color:"primary","prepend-icon":"mdi-cart",to:"/online-message"},{default:a(()=>l[0]||(l[0]=[u("在线订购")])),_:1,__:[0]})]),_:1})]),_:1}),t(h,null,{default:a(()=>[t(G,{thickness:1,class:"border-opacity-25 mb-3",color:"grey"}),L("div",{class:"article",innerHTML:e.record.html},null,8,de)]),_:1})]),_:1},8,["loading"]))}}),ge=V({__name:"detail",setup(i){const c=K(),e=parseInt(W().params.id);return(d,r)=>(s(),n(X,{"max-width":"1200",class:"pa-0"},{default:a(()=>[p(c).xs.value?(s(),n(ie,{key:0,id:p(e)},null,8,["id"])):(s(),n(I,{key:1,dense:""},{default:a(()=>[t(v,{cols:"2"},{default:a(()=>[t(Z)]),_:1}),t(v,null,{default:a(()=>[t(se,{id:p(e)},null,8,["id"])]),_:1})]),_:1}))]),_:1}))}});export{ge as default};
